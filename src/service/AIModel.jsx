// export const chatSession = {
//   sendMessage: async (message) => {
//     // Simulate an API call to send a message to the AI model
//     return new Promise((resolve) => {
//       setTimeout(() => {
//         resolve({ response: { text: () => `Response to: ${message}` } });
//       }, 1000);
//     });
//   },
// };


import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GENERATIVE_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with Hotel Name, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Uri, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a JSON format travel plan for a couple's 3-day, budget-friendly trip to Las Vegas, along with hotel options.  I've focused on maximizing free activities and affordable dining while still experiencing the core Vegas vibe.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap/Budget-Friendly (Couple)\",\n    \"focus\": \"Free Attractions, Affordable Dining, Core Vegas Experience\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $80 per night (depending on dates and deals)\",\n      \"hotelImageUri\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/155606531.jpg?k=943f524c8480d356812349b9145242a81b890e429d25d9f762023a81d527ff13&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1262,\n        \"longitude\": -115.1654\n      },\n      \"rating\": 6.5,\n      \"description\": \"Offers affordable rooms, free circus acts, and the Adventuredome Theme Park (additional cost). It's a bit further north on the Strip, but still a recognizable Vegas landmark.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $90 per night\",\n      \"hotelImageUri\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/13909158.jpg?k=0398a4a9c993d878048f3d575d42b350358bc77b759f0636d855232a0e677071&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0959,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 7.2,\n      \"description\": \"A medieval-themed hotel offering affordable rooms, several dining options, and a central Strip location.  Good for budget-conscious travelers wanting to be in the heart of the action.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$45 - $100 per night\",\n      \"hotelImageUri\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/149274664.jpg?k=08a197d9e732a017057a91d0b5c2db8512e6675f1118324b3965d5b52b776f61&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0955,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 7.0,\n      \"description\": \"Iconic pyramid-shaped hotel.  Rooms are generally affordable.  Connected to Mandalay Bay and Excalibur, providing easy access to more attractions and dining. Look for deals to make it even more budget-friendly.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip and Free Shows\",\n      \"morning\": {\n        \"activity\": \"Welcome to Las Vegas Sign\",\n        \"placeName\": \"Welcome to Las Vegas Sign\",\n        \"placeDetails\": \"Iconic sign for a photo opportunity. Get there early to avoid crowds.\",\n        \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Welcome_to_Las_Vegas_Sign_2017.jpg/1280px-Welcome_to_Las_Vegas_Sign_2017.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0829,\n          \"longitude\": -115.1733\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"timeToVisit\": \"8:00 AM - 9:00 AM\",\n        \"travelTime\": \"Variable, depending on hotel location.  Consider a rideshare or the Deuce bus.\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Bellagio Conservatory & Botanical Garden\",\n        \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n        \"placeDetails\": \"Stunning floral displays that change seasonally. A great free attraction.\",\n        \"placeImageUri\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory/bellagio-conservatory-garden-chinese-new-year-2023-600x360.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1126,\n          \"longitude\": -115.1764\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.8,\n        \"timeToVisit\": \"2:00 PM - 3:00 PM\",\n        \"travelTime\": \"15 minutes by bus from Welcome Sign\"\n      },\n      \"evening\": {\n        \"activity\": \"Fountains of Bellagio Show & Walk the Strip\",\n        \"placeName\": \"Fountains of Bellagio\",\n        \"placeDetails\": \"Spectacular water show set to music. Free and runs frequently.\",\n        \"placeImageUri\": \"https://www.vegas.com/wp/wp-content/uploads/2022/09/bellagio-fountains-at-night-1680x1050.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1128,\n          \"longitude\": -115.1762\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.9,\n        \"timeToVisit\": \"7:00 PM - 8:00 PM (Check show schedule)\",\n        \"travelTime\": \"5 minutes walking\"\n      },\n        \"dinner\": {\n        \"activity\": \"In-N-Out Burger\",\n        \"placeName\": \"In-N-Out Burger\",\n        \"placeDetails\": \"West Coast burger chain.  Affordable and iconic. There's one near the LINQ Promenade.\",\n        \"placeImageUri\": \"https://www.franchise.org/sites/default/files/2021-11/In-N-Out-Burger-Restaurant.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1167,\n          \"longitude\": -115.1709\n        },\n        \"ticketPricing\": \"$10-15\",\n        \"rating\": 4.5,\n        \"timeToVisit\": \"8:30 PM\",\n        \"travelTime\": \"15 minutes walking\"\n        }\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas and Budget-Friendly Fun\",\n      \"morning\": {\n        \"activity\": \"Fremont Street Experience\",\n        \"placeName\": \"Fremont Street Experience\",\n        \"placeDetails\": \"Light and sound shows on a massive LED canopy. Free to walk around.\",\n        \"placeImageUri\": \"https://www.vegas.com/wp/wp-content/uploads/2022/09/fremont-street-experience-at-night-1680x1050.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1700,\n          \"longitude\": -115.1422\n        },\n        \"ticketPricing\": \"Free (activities within may cost)\",\n        \"rating\": 4.6,\n        \"timeToVisit\": \"10:00 AM - 12:00 PM (less crowded in the morning)\",\n        \"travelTime\": \"Take the Deuce bus or a rideshare. Allow 30-45 minutes from the Strip.\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Explore Downtown\",\n        \"placeName\": \"Explore Downtown\",\n        \"placeDetails\": \"Explore the unique shops, street performers, and casinos of old Las Vegas.  Look for cheap eats and drink specials.\",\n        \"placeImageUri\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_640,q_75,w_640/v1/clients/lasvegas/things_to_do_downtown_las_vegas_downtown_container_park_e1f8395d-1c89-4017-acff-884a25dd1e4a.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1699,\n          \"longitude\": -115.1405\n        },\n        \"ticketPricing\": \"Free (shopping and food costs vary)\",\n        \"rating\": 4.3,\n        \"timeToVisit\": \"12:00 PM - 3:00 PM\",\n        \"travelTime\": \"Walking around Fremont Street\"\n      },\n      \"evening\": {\n        \"activity\": \"Fremont Street Light Show\",\n        \"placeName\": \"Viva Vision Light Show\",\n        \"placeDetails\": \"Catch one of the free light shows on the Viva Vision canopy above Fremont Street. Shows run regularly.\",\n        \"placeImageUri\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/05/FSE_2023-Hero_Image_V1.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1700,\n          \"longitude\": -115.1422\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.7,\n        \"timeToVisit\": \"9:00 PM - 10:00 PM (Check show schedule)\",\n        \"travelTime\": \"Walking\"\n      },\n          \"dinner\": {\n        \"activity\": \"Heart Attack Grill\",\n        \"placeName\": \"Heart Attack Grill\",\n        \"placeDetails\": \"If you want to eat something different with an ambiance, you can have diner here.\",\n        \"placeImageUri\": \"https://s3-media0.fl.yelpcdn.com/bphoto/z1iVfDq41Gg0jX_eM5FwRA/o.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1709,\n          \"longitude\": -115.1427\n        },\n        \"ticketPricing\": \"$20-30\",\n        \"rating\": 4.2,\n        \"timeToVisit\": \"7:30 PM\",\n        \"travelTime\": \"Walking\"\n      }\n    },\n    \"day3\": {\n      \"theme\": \"Mid-Strip Exploration and Departure\",\n      \"morning\": {\n        \"activity\": \"LINQ Promenade & High Roller (Optional)\",\n        \"placeName\": \"LINQ Promenade\",\n        \"placeDetails\": \"Outdoor shopping, dining, and entertainment district. The High Roller observation wheel offers great views (ticketed).\",\n        \"placeImageUri\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_640,q_75,w_640/v1/clients/lasvegas/linq_high_roller_4_640x427_71c5d7b9-981b-46f8-b0bb-818705a74061.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1165,\n          \"longitude\": -115.1704\n        },\n        \"ticketPricing\": \"Free to walk around; High Roller tickets around $25-40\",\n        \"rating\": 4.4,\n        \"timeToVisit\": \"10:00 AM - 12:00 PM\",\n        \"travelTime\": \"Bus or rideshare from Downtown.  Walking from many Strip hotels.\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Mirage Volcano Show\",\n        \"placeName\": \"Mirage Volcano\",\n        \"placeDetails\": \"A fiery volcano erupts outside the Mirage hotel. Free show.\",\n        \"placeImageUri\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/Mirage_volcano_show_2017.jpg/1280px-Mirage_volcano_show_2017.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1212,\n          \"longitude\": -115.1742\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.7,\n        \"timeToVisit\": \"Check show schedule (usually runs hourly in the evenings).  Visit during the day to scout the location.\",\n        \"travelTime\": \"Walking from LINQ Promenade\"\n      },\n      \"evening\": {\n        \"activity\": \"Head to the Airport\",\n        \"placeName\": \"Harry Reid International Airport (LAS)\",\n        \"placeDetails\": \"Allow ample time for travel and security.\",\n        \"placeImageUri\": \"https://www.harryreidairport.com/images/default-source/default-album/las-airport-at-night.tmb-full.jpg?sfvrsn=a0efdbff_0\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0801,\n          \"longitude\": -115.1523\n        },\n        \"ticketPricing\": \"Transportation cost only\",\n        \"rating\": 4.0,\n        \"timeToVisit\": \"Allow 2-3 hours before your flight\",\n        \"travelTime\": \"Rideshare or taxi: 15-20 minutes from the Strip.\"\n      },\n        \"dinner\": {\n        \"activity\": \"Secret Pizza at Cosmopolitan\",\n        \"placeName\": \"Secret Pizza\",\n        \"placeDetails\": \"Hidden pizza place in the Cosmopolitan hotel. It's nothing fancy, but the pizza is tasty and relatively cheap for the Strip.\",\n        \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/07/69/fd/44/secret-pizza.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1123,\n          \"longitude\": -115.1756\n        },\n        \"ticketPricing\": \"$10-15\",\n        \"rating\": 4.3,\n        \"timeToVisit\": \"5:00 PM (before heading to the airport)\",\n        \"travelTime\": \"Walk from the Mirage\"\n      }\n    }\n  },\n  \"notes\": [\n    \"Prices for hotels and activities are estimates and can vary based on the time of year, day of the week, and availability.  Book in advance for best deals.\",\n    \"Utilize free transportation like the Deuce bus on the Strip to save money on transportation.\",\n    \"Look for happy hour deals for drinks and appetizers.\",\n    \"Pack comfortable shoes, as you'll be doing a lot of walking.\",\n    \"Stay hydrated, especially during the hot summer months.\",\n    \"Be aware of your surroundings and take precautions against pickpockets, especially in crowded areas.\",\n    \"Consider packing snacks and drinks to avoid overspending on expensive hotel mini-bars and convenience stores.\"\n  ]\n}\n```\n\n**Key Budget Tips:**\n\n*   **Transportation:**  The Deuce bus is the most economical way to travel the Strip. Consider a multi-day pass. Rideshares are also an option, but can add up.\n*   **Food:**  Avoid eating in high-end restaurants.  Seek out casual dining, fast food, and happy hour deals. Explore off-Strip options for more affordable meals. Consider a grocery store run for snacks and drinks.\n*   **Drinks:**  Drink prices are high on the Strip.  Buy drinks at a drugstore or grocery store to enjoy in your hotel room before going out.\n*   **Gambling:**  Set a strict gambling budget and stick to it. Consider low-limit table games or penny slots.\n\n**How to Use This Plan:**\n\n1.  **Hotel Selection:** Review the hotel options and check prices for your travel dates. Book as far in advance as possible for better rates.\n2.  **Itinerary Customization:**  This is a suggestion. Adjust the activities and timings to suit your interests and preferences.\n3.  **Booking/Confirmation:** Check show schedules and make reservations where necessary (especially for popular restaurants or attractions).\n4.  **Flexibility:**  Be prepared to adjust your plans if needed. Vegas is a dynamic city, and unexpected opportunities may arise.\n\nHave a great time in Las Vegas!\n"},
        ],
      },
    ],
  });
